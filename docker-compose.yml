version: '2'

services:

  sentence.splitter:
    build:
      context: .
      dockerfile: Dockerfile.nltk_base
    image: hltcoe/nltk_base
    networks:
      - primary
    command: python /opt/scripts/sentence_splitter.py
    ports:
      - 9091:9090
      
  word.tokenizer:
    build:
      context: .
      dockerfile: Dockerfile.nltk_base
    image: hltcoe/nltk_base
    networks:
      - primary
    command: python /opt/scripts/word_tokenizer.py
    ports:
      - 9092:9090

  pos.tagger:
    build:
      context: .
      dockerfile: Dockerfile.nltk_base
    image: hltcoe/nltk_base
    networks:
      - primary
    command: python /opt/scripts/pos_tagger.py
    ports:
      - 9093:9090
  
  ne.chunker:
    build:
      context: .
      dockerfile: Dockerfile.nltk_base
    image: hltcoe/nltk_base
    networks:
      - primary
    command: python /opt/scripts/ne_chunker.py
    ports:
      - 9094:9090
    
  ne.annotator:
    build:
      context: .
      dockerfile: Dockerfile.nltk_base
    image: hltcoe/nltk_base
    networks:
      - primary
    command: python /opt/scripts/ne_annotator.py
    ports:
      - 9090:9090
    depends_on:
      - sentence.splitter
      - word.tokenizer
      - ne.chunker
      
networks:
  primary:
